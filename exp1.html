<html>
	<head>
		<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
		<script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>
		<script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
		
		<script src="components/slide.js"></script>
		<script src="components/video_controls.js"></script>
	</head>
	<body>
		<a-scene id="app">
			<a-asset id="assets">
				
				<!--  src="https://felipegimenezsilva.github.io/assets/teste.mp4"-->
				<video id="video" crossorigin="anonymous" src="assets/exp_1.mp4" autoplay loop="false"></video>
				
				<img id="pause" src="assets/pause.png"></img>
				<img id="play" src="assets/play.png"></img>
				
				<img id="img_1" src="assets/cylinder_100_ml.jpg"></img>
				<img id="img_2" src="assets/erlenmeyer_flask_250_ml.jpg"></img>
				<img id="img_3" src="assets/beacker_100_ml.jpg"></img>
				<img id="img_4" src="assets/rubber_bulbs.jpg"></img>
				<img id="img_5" src="assets/volumetric_pipette_10_ml.jpg"></img>
				<img id="img_6" src="assets/burette_25_ml.jpg"></img>
				<img id="img_7" src="assets/magnetic_bar_remover.jpg"></img>
				<img id="img_8" src="assets/magnetic_bar.jpg"></img>
				<img id="img_9" src="assets/ph_electrode.jpg"></img>
				<img id="img_10" src="assets/digital_ph_meter.jpg"></img>
				<img id="img_11" src="assets/magnetic_stirrer.jpg"></img>
				<img id="img_12" src="assets/burette_support.jpg"></img>
				<img id="img_13" src="assets/aqueous_solution_hcl.jpg"></img>
				<img id="img_14" src="assets/aqueous_solution_naoh.jpg"></img>
				<img id="img_15" src="assets/phenolphthalein.jpg"></img>
				<img id="img_16" src="assets/distilled_water.jpg"></img>
				<img id="img_17" src="assets/final_result_exp_1.jpg"></img>
				
				
			</a-asset>
			
			<a-videosphere id="#sphere" src="#video" rotation="0 60 0" ></a-videosphere>
			</a-plane>		
			
			<a-entity video_controls="video_id:#video" position="-3 2.5 -13"></a-entity>
			
			<script>
				
				
			
				
				// Data sample of how to use window slider
				// TODO : ADD rotation and "time"
				slide = {
					"video_id" : "#video",
					"id" : "myid" ,
					"position" : "-3 1 -13" ,
					"rotation" : "0 0 0" ,
					"size" : 
					{
						"width" : 8 ,
						"height" : 5 ,
					},
					"title" : "Show Slide" ,
					"slides" : 
					[
					 	{ 
							"title" : "Introduction",
							"type" : "text" ,
							"value" : "Acid-base titration\nusing aqueous\nsolution of HCl" ,
							"size" : 10 ,
							"second" : 0,
							"triggered" : false,
						},
						{ 
							"title" : "Objective",
							"type" : "text" ,
							"value" : "We want to\ndetermine the\nconcentration of\nHCl." ,
							"size" : 10 ,
							"second" : 4,
							"triggered" : false,
						},
						{ 
							"title" : "Details",
							"type" : "text" ,
							"value" : "The concentration\nof the NaOH solution\nis 0.1 mol/dm^3" ,
							"size" : 10 ,
							"second" : 7,
							"triggered" : false,
						},
						{ 
							"title" : "Observation",
							"type" : "text" ,
							"value" : "This activity must be carried out under\nthe supervision of your chemistry\nteacher, after a careful risk assessment\nof the experimental protocol.",
							"size" : 10 ,
							"second" : 10,
							"triggered" : false,
						},
						{
							"title" : "Cylinder 100 mL",
							"type" : "image" ,
							"url" : "#img_1" ,
							"width" : 3 ,
							"height" : 5 ,
							"second" : 15,
							"triggered" : false,
						},
						{
							"title" : "Erlenmeyer flask 250 mL",
							"type" : "image" ,
							"url" : "#img_2" ,
							"width" : 3 ,
							"height" : 5 ,
							"second" : 21,
							"triggered" : false,
						},
						{
							"title" : "Beaker 100 mL",
							"type" : "image" ,
							"url" : "#img_3" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 27,
							"triggered" : false,
						},
						{
							"title" : "Rubber bulbs",
							"type" : "image" ,
							"url" : "#img_4" ,
							"width" : 3 ,
							"height" : 5 ,
							"second" : 33,
							"triggered" : false,
						},
						{
							"title" : "Volumetric pipette 10 mL",
							"type" : "image" ,
							"url" : "#img_5" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 39,
							"triggered" : false,
						},
						{
							"title" : "Burette 25 mL",
							"type" : "image" ,
							"url" : "#img_6" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 46,
							"triggered" : false,
						},
						{
							"title" : "Magnetic bar remover",
							"type" : "image" ,
							"url" : "#img_7" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 53,
							"triggered" : false,
						},
						{
							"title" : "Magnetic bar",
							"type" : "image" ,
							"url" : "#img_8" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 60+6,
							"triggered" : false,
						},
						{
							"title" : "pH electrode",
							"type" : "image" ,
							"url" : "#img_9" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 60+12,
							"triggered" : false,
						},{
							"title" : "Digital pH meter",
							"type" : "image" ,
							"url" : "#img_10" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 60+15,
							"triggered" : false,
						},{
							"title" : "Magnetic stirrer",
							"type" : "image" ,
							"url" : "#img_11" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 60+19,
							"triggered" : false,
						},{
							"title" : "Burette support",
							"type" : "image" ,
							"url" : "#img_12" ,
							"width" : 3 ,
							"height" : 5 ,
							"second" : 60+22,
							"triggered" : false,
						},
						{
							"title" : "Aqueous solution of HCl\n(unknown concentration)",
							"title_size" : "9",
							"type" : "image" ,
							"url" : "#img_13" ,
							"width" : 3 ,
							"height" : 5 ,
							"second" : 60+29,
							"triggered" : false,
						},{
							"title" : "Aqueous solution of NaOH,\n0.1 mol/dm3",
							"type" : "image" ,
							"title_size" : "9",
							"url" : "#img_14" ,
							"width" : 3 ,
							"height" : 5 ,
							"second" : 60+38,
							"triggered" : false,
						},
						{
							"title" : "Phenolphthalein",
							"type" : "image" ,
							"url" : "#img_15" ,
							"width" : 3 ,
							"height" : 5 ,
							"second" : 60+44,
							"triggered" : false,
						},
						{
							"title" : "Distilled water",
							"type" : "image" ,
							"url" : "#img_16" ,
							"width" : 3 ,
							"height" : 5 ,
							"second" : 60+51,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "Fill the burette with the\nNaOH solution." ,
							"size" : 8 ,
							"second" : 2*60+2,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "Measure 100 mL of distilled\nwater using the cylinder." ,
							"size" : 8 ,
							"second" : 2*60+24,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "Transfer part of it to\nthe Erlenmeyer flask." ,
							"size" : 8 ,
							"second" : 2*60+42,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "Add 10.00 mL of the HCl\nsolution to the Erlenmeyer flask\nusing a pipette." ,
							"size" : 8 ,
							"second" : 2*60+56,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "Transfer the remaining\nwater from the cylinder to\nthe Erlenmeyer flask." ,
							"size" : 8 ,
							"second" : 3*60+53,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "Add 5 drops of the\nphenolphthalein indicator\nto the Erlenmeyer flask." ,
							"size" : 8 ,
							"second" : 4*60+9,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "Add a magnetic bar to\nthe Erlenmeyer flask and start\nthe stirrer." ,
							"size" : 8 ,
							"second" : 4*60+35,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "Notice the pH electrode\ninside the solution." ,
							"size" : 8 ,
							"second" : 4*60+53,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "Register the initial pH\nvalue and the initial\nvolume of titrant in\nthe burette." ,
							"size" : 8 ,
							"second" : 5*60+0,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "Add successive small\nvolumes of the titrant,\nregistering the volume\nand the pH value after\neach addition." ,
							"size" : 8 ,
							"second" : 5*60+30,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "As soon as a clear\npink color appears,\nthat persists upon\nagitation, register it." ,
							"size" : 8 ,
							"second" : 5*60+40,
							"triggered" : false,
						},
						{ 
							"title" : "Methods",
							"type" : "text" ,
							"value" : "Stop adding the NaOH\nsolution when the\npH remains constant." ,
							"size" : 8 ,
							"second" : 5*60+45,
							"triggered" : false,
						},
						
						{
							"title" : "Result",
							"type" : "image" ,
							"url" : "#img_17" ,
							"width" : 3 ,
							"height" : 5 ,
							"second" : 5*60 + 50,
							"triggered" : false,
						},
					] 	
				};
				
				app = document.getElementById("app")
				
				// script to generate an slider
				x = document.createElement("a-entity")
				x.setAttribute("a-slide","json:"+JSON.stringify(slide))				
				app.appendChild(x)
				
			</script>
			
			<a-entity camera look-controls mouse-cursor>
			<!-- Camera + Cursor. -->
			<a-camera>
				<a-cursor id="cursor"></a-cursor>
			</a-camera>
		</a-scene>
	</body>
</html>
